(this["webpackJsonpyoutube-search"]=this["webpackJsonpyoutube-search"]||[]).push([[0],{21:function(e,t,s){},23:function(e,t,s){},24:function(e,t,s){},25:function(e,t,s){"use strict";s.r(t);var n=s(3),a=s.n(n),c=s(10),r=s.n(c);let i={};var o=s(27);async function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=function(e){return i[e]||null}("apiKey");return(await o.a.get("https://www.googleapis.com/youtube/v3/search",{params:{part:"snippet",q:e,maxResults:5,type:"video",key:s,pageToken:t}})).data}var u=s.p+"static/media/logo.b552ea1e.png";var h=e=>{const[t,s]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{const t=()=>{if(!e.current)return;const{scrollTop:t,clientHeight:n,scrollHeight:a}=e.current;s(a-(t+n)<15)},n=e.current;return n.addEventListener("scroll",t),()=>{n.removeEventListener("scroll",t)}}),[e]),t},j=(s(21),s(2));function p(e){const{listData:t,searchedFor:s}=e,{pageInfo:n,items:a}=t,{totalResults:c}=n;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"results-header",children:[Object(j.jsxs)("h1",{children:["Result List for : ",s]}),Object(j.jsxs)("span",{children:["Showing",Object(j.jsx)("span",{"data-testid":"showing-records-length",children:a.length})," /",Object(j.jsx)("span",{"data-testid":"total-records-length",children:c})]})]}),a.map((e=>{const{snippet:t,id:s}=e,{channelTitle:n,publishTime:a,thumbnails:c}=t,{videoId:r}=s;return Object(j.jsx)("div",{className:"list",children:Object(j.jsxs)("a",{href:`https://www.youtube.com/watch?v=${r}`,children:[Object(j.jsx)("img",{src:c.default.url,width:c.width,height:c.height,alt:e.snippet.title}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:e.snippet.title}),Object(j.jsx)("p",{children:e.snippet.description})]}),Object(j.jsxs)("strong",{className:"more-info",children:[Object(j.jsxs)("span",{children:["Channel : ",n,"."]})," Published on : ",a]})]})},r)}))]})}function d(e){const[t,s]=Object(n.useState)("");return Object(j.jsxs)("form",{method:"get",onSubmit:async s=>{s.preventDefault();const{pageInfo:n,items:a,nextPageToken:c,prevPageToken:r}=await l(t);e.setAutoCompleteList({pageInfo:n,items:a,nextPageToken:c,prevPageToken:r}),e.setValue(t)},"aria-label":"search-youtube",children:[Object(j.jsx)("input",{name:"search_query",type:"text",placeholder:"Search YouTube",maxLength:"128",required:!0,value:t,onChange:e=>s(e.currentTarget.value)}),Object(j.jsx)("input",{type:"submit",value:"Search",className:"primary"}),Object(j.jsx)("input",{type:"reset",value:"Clear",onClick:()=>{s(""),e.setAutoCompleteList({})}})]})}s(23);var b=function(){const[e,t]=Object(n.useState)({}),[s,a]=Object(n.useState)(""),[c,r]=Object(n.useState)(!0),i=Object(n.useRef)(null),o=h(i);return Object(n.useEffect)((()=>{(async()=>{var n;if(null!==(n=e.items)&&void 0!==n&&n.length&&o&&c){r(!1);const{pageInfo:n,items:a,nextPageToken:c,prevPageToken:i}=await l(s,e.nextPageToken);t({...e,pageInfo:n,items:[...e.items,...a],nextPageToken:c,prevPageToken:i}),setTimeout((()=>{r(!0)}),10)}})()}),[e,o,c,s]),Object(j.jsxs)("article",{className:"container",children:[Object(j.jsxs)("section",{className:"form-container",children:[Object(j.jsx)("img",{src:u,alt:"logo"}),Object(j.jsx)(d,{setAutoCompleteList:t,setValue:a})]}),Object(j.jsx)("section",{className:"list-container",ref:i,"data-testid":"resultList",children:e.items&&Object(j.jsx)(p,{listData:e,searchedFor:s})})]})};s(24);!function(){var e;e="AIzaSyBVgK8Y-s40k5KXmi1mMAzU748CZeeuWGI",i["apiKey"]=e}(),r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.576d999c.chunk.js.map